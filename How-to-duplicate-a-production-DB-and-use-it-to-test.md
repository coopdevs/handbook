## How to duplicate a production DB and use it to test
Some time you need to test something on a DB with production data. Generally, our setup already creates two DBs, one for production and one for test. With this guide you'll be able to duplicate the production DB and use it for test purposes.

Keep in mind that with our setup you have two different sub-domains, one for each DB (e.g. `odoo` and `odoo-test`).

### Prerequisites
In order to execute the following steps you'll need:
 - production DB master password

It should be stored in BitWarden. If it's not there... please ask a sysadmin to add it.

### Steps
1. Go to the production subdomain and visit the Database Manager (e.g. `https://odoo.mydomain.coop/web/database/manager`)
1. Download a backup of the production DB
1. Go to the **test subdomain** and visit the Database Manager (e.g. `https://odoo-test.mydomain.coop/web/database/manager`)
1. Make sure you're in the **test** subdomain and NOT in the production subdomain...
1. Delete the existing DB
1. You'll get an "Internal Server Error", don't worry... it's normal. That odoo process doesn't have a DB to run with anymore.
1. Visit the **test** Database Manager (e.g. `https://odoo-test.mydomain.coop/web/database/manager`)
1. At the end of the form choose to **restore a database**
1. Fill in the *test DB master password*, browse and select the zip file generated by *point 2*, use the **test** DB name (e.g. `odoo-test`) and select "This database is a copy" option. Make sure that the DB name you choose is the same of the DB deleted in *point 5*.
1. Ask a sysadmin to provision the server, this will place everything in order in the test environment
